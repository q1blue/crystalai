"use strict";(self.webpackChunkairsdk_dev=self.webpackChunkairsdk_dev||[]).push([[7540],{4137:(e,a,t)=>{t.d(a,{Zo:()=>p,kt:()=>u});var n=t(7294);function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function s(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function r(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?s(Object(t),!0).forEach((function(a){i(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,n,i=function(e,a){if(null==e)return{};var t,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=n.createContext({}),c=function(e){var a=n.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):r(r({},a),e)),t},p=function(e){var a=c(e.components);return n.createElement(l.Provider,{value:a},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},h=n.forwardRef((function(e,a){var t=e.components,i=e.mdxType,s=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=c(t),h=i,u=d["".concat(l,".").concat(h)]||d[h]||m[h]||s;return t?n.createElement(u,r(r({ref:a},p),{},{components:t})):n.createElement(u,r({ref:a},p))}));function u(e,a){var t=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var s=t.length,r=new Array(s);r[0]=h;var o={};for(var l in a)hasOwnProperty.call(a,l)&&(o[l]=a[l]);o.originalType=e,o[d]="string"==typeof e?e:i,r[1]=o;for(var c=2;c<s;c++)r[c]=t[c];return n.createElement.apply(null,r)}return n.createElement.apply(null,t)}h.displayName="MDXCreateElement"},7814:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var n=t(7462),i=(t(7294),t(4137));const s={title:"Masking display objects",sidebar_position:12},r=void 0,o={unversionedId:"development/display/display-programming/manipulating-display-objects/masking-display-objects",id:"development/display/display-programming/manipulating-display-objects/masking-display-objects",title:"Masking display objects",description:"You can use a display object as a mask to create a hole through which the contents of another display object are visible.",source:"@site/docs/development/display/display-programming/manipulating-display-objects/masking-display-objects.md",sourceDirName:"development/display/display-programming/manipulating-display-objects",slug:"/development/display/display-programming/manipulating-display-objects/masking-display-objects",permalink:"/docs/development/display/display-programming/manipulating-display-objects/masking-display-objects",draft:!1,editUrl:"https://github.com/airsdk/airsdk.dev/edit/main/docs/development/display/display-programming/manipulating-display-objects/masking-display-objects.md",tags:[],version:"current",sidebarPosition:12,frontMatter:{title:"Masking display objects",sidebar_position:12},sidebar:"mainSidebar",previous:{title:"Fading objects",permalink:"/docs/development/display/display-programming/manipulating-display-objects/fading-objects"},next:{title:"Animating objects",permalink:"/docs/development/display/display-programming/animating-objects"}},l={},c=[{value:"Defining a mask",id:"defining-a-mask",level:2},{value:"AIR 2",id:"air-2",level:3},{value:"About masking device fonts",id:"about-masking-device-fonts",level:2},{value:"Alpha channel masking",id:"alpha-channel-masking",level:2}],p={toc:c},d="wrapper";function m(e){let{components:a,...t}=e;return(0,i.kt)(d,(0,n.Z)({},p,t,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"You can use a display object as a mask to create a hole through which the contents of another display object are visible."),(0,i.kt)("h2",{id:"defining-a-mask"},"Defining a mask"),(0,i.kt)("p",null,"To indicate that a display object will be the mask for another display object, set the mask object as the mask property of the display object to be masked:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},"// Make the object maskSprite be a mask for the object mySprite.\nmySprite.mask = maskSprite;\n")),(0,i.kt)("p",null,"The masked display object is revealed under all opaque (nontransparent) areas of the display object acting as the mask. For instance, the following code creates a Shape instance containing a red 100 by 100 pixel square and a Sprite instance containing a blue circle with a radius of 25 pixels. When the circle is clicked, it is set as the mask for the square, so that the only part of the square that shows is the part that is covered by the solid part of the circle. In other words, only a red circle will be visible."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},"// This code assumes it's being run within a display object container\n// such as a MovieClip or Sprite instance.\n\nimport flash.display.Shape;\n\n// Draw a square and add it to the display list.\nvar square:Shape = new Shape();\nsquare.graphics.lineStyle(1, 0x000000);\nsquare.graphics.beginFill(0xff0000);\nsquare.graphics.drawRect(0, 0, 100, 100);\nsquare.graphics.endFill();\nthis.addChild(square);\n\n// Draw a circle and add it to the display list.\nvar circle:Sprite = new Sprite();\ncircle.graphics.lineStyle(1, 0x000000);\ncircle.graphics.beginFill(0x0000ff);\ncircle.graphics.drawCircle(25, 25, 25);\ncircle.graphics.endFill();\nthis.addChild(circle);\n\nfunction maskSquare(event:MouseEvent):void\n{\n    square.mask = circle;\n    circle.removeEventListener(MouseEvent.CLICK, maskSquare);\n}\n\ncircle.addEventListener(MouseEvent.CLICK, maskSquare);\n")),(0,i.kt)("p",null,"The display object that is acting as a mask can be draggable, animated, resized dynamically, and can use separate shapes within a single mask. The mask display object doesn\u2019t necessarily need to be added to the display list. However, if you want the mask object to scale when the Stage is scaled or if you want to enable user interaction with the mask (such as user-controlled dragging and resizing), the mask object must be added to the display list. The actual z-index (front-to-back order) of the display objects doesn\u2019t matter, as long as the mask object is added to the display list. (The mask object will not appear on the screen except as a mask.) If the mask object is a MovieClip instance with multiple frames, it plays all the frames in its timeline, the same as it would if it were not serving as a mask. You can remove a mask by setting the ",(0,i.kt)("inlineCode",{parentName:"p"},"mask")," property to ",(0,i.kt)("inlineCode",{parentName:"p"},"null")," :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},"// remove the mask from mySprite\nmySprite.mask = null;\n")),(0,i.kt)("p",null,"You cannot use a mask to mask another mask. You cannot set the ",(0,i.kt)("inlineCode",{parentName:"p"},"alpha")," property of a mask display object. Only fills are used in a display object that is used as a mask; strokes are ignored."),(0,i.kt)("h3",{id:"air-2"},"AIR 2"),(0,i.kt)("p",null,"If a masked display object is cached by setting the ",(0,i.kt)("inlineCode",{parentName:"p"},"cacheAsBitmap")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"cacheAsBitmapMatrix")," properties, the mask must be a child of the masked display object. Similarly, if the masked display object is a descendent of a display object container that is cached, both the mask and the display object must be descendents of that container. If the masked object is a descendent of more than one cached display object container, the mask must be a descendent of the cached container closest to the masked object in the display list."),(0,i.kt)("h2",{id:"about-masking-device-fonts"},"About masking device fonts"),(0,i.kt)("p",null,"You can use a display object to mask text that is set in a device font. When you use a display object to mask text set in a device font, the rectangular bounding box of the mask is used as the masking shape. That is, if you create a non-rectangular display object mask for device font text, the mask that appears in the SWF file is the shape of the rectangular bounding box of the mask, not the shape of the mask itself."),(0,i.kt)("h2",{id:"alpha-channel-masking"},"Alpha channel masking"),(0,i.kt)("p",null,"Alpha channel masking is supported if both the mask and the masked display objects use bitmap caching, as shown here:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},"// maskShape is a Shape instance which includes a gradient fill.\nmySprite.cacheAsBitmap = true;\nmaskShape.cacheAsBitmap = true;\nmySprite.mask = maskShape;\n")),(0,i.kt)("p",null,"For instance, one application of alpha channel masking is to use a filter on the mask object independently of a filter that is applied to the masked display object."),(0,i.kt)("p",null,"In the following example, an external image file is loaded onto the Stage. That image (or more accurately, the Loader instance it is loaded into) will be the display object that is masked. A gradient oval (solid black center fading to transparent at the edges) is drawn over the image; this will be the alpha mask. Both display objects have bitmap caching turned on. The oval is set as a mask for the image, and it is then made draggable."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-actionscript"},'// This code assumes it\'s being run within a display object container\n// such as a MovieClip or Sprite instance.\n\nimport flash.display.GradientType;\nimport flash.display.Loader;\nimport flash.display.Sprite;\nimport flash.geom.Matrix;\nimport flash.net.URLRequest;\n\n// Load an image and add it to the display list.\nvar loader:Loader = new Loader();\nvar url:URLRequest = new URLRequest("http://www.helpexamples.com/flash/images/image1.jpg");\nloader.load(url);\nthis.addChild(loader);\n\n// Create a Sprite.\nvar oval:Sprite = new Sprite();\n// Draw a gradient oval.\nvar colors:Array = [0x000000, 0x000000];\nvar alphas:Array = [1, 0];\nvar ratios:Array = [0, 255];\nvar matrix:Matrix = new Matrix();\nmatrix.createGradientBox(200, 100, 0, -100, -50);\noval.graphics.beginGradientFill(\n    GradientType.RADIAL,\n    colors,\n    alphas,\n    ratios,\n    matrix );\noval.graphics.drawEllipse(-100, -50, 200, 100);\noval.graphics.endFill();\n// add the Sprite to the display list\nthis.addChild(oval);\n\n// Set cacheAsBitmap = true for both display objects.\nloader.cacheAsBitmap = true;\noval.cacheAsBitmap = true;\n// Set the oval as the mask for the loader (and its child, the loaded image)\nloader.mask = oval;\n\n// Make the oval draggable.\noval.startDrag(true);\n')))}m.isMDXComponent=!0}}]);